---
title: "P8105 - Homework 5"
author: "Linh Tran"
date: "11/12/2020"
output: github_document
---

```{r setup}
library(tidyverse)
library(rvest)

set.seed(1)
```

# Problem 1

Load the data

```{r}
homicide_df = read_csv("data_homicide/homicide-data.csv")
```

The raw data has information on homicides in 50 large US cities gathered by the *Washington Post* , including victims' information (name, race, age, sex), location where the homicide occured (city, state) and disposition (closed/open with or without arrest). 

Create a `city_state` variable and summarize within cities to obtain the total number of homicides and the number of unsolved homicides

```{r}
aggregate_df = 
  homicide_df %>% 
  mutate(
    city_state = str_c(city, state, sep = "_"),
    resolved = case_when(
      disposition == "Closed without arrest"  ~ "unsolved",
      disposition == "Open/No arerst"         ~ "unsolved",
      disposition == "Closed by arrest"       ~ "solved",
    )
  ) %>% 
  select(city_state, resolved) %>% 
  group_by(city_state) %>% 
  summarize(
     hom_total = n(),
     hom_unsolved = sum(resolved == "unsolved", na.rm = TRUE), 
  )
```


# Problem 2





# Problem 3